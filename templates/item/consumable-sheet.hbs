<div class="hwfwm-item-sheet hwfwm-item-sheet--consumable" autocomplete="off">
  <header class="hwfwm-item-header">
    <div class="hwfwm-item-title">
      <label class="hwfwm-label" style="color:#000;">Name</label>
      <input type="text" name="name" value="{{item.name}}" />
    </div>
  </header>

  <section class="hwfwm-item-body" style="color:#000;">

    <!-- IMAGE (top) -->
    <div class="hwfwm-card">
      <div class="hwfwm-card__title" style="color:#000;">Image</div>

      <img
        src="{{item.img}}"
        data-edit="img"
        title="{{item.name}}"
        style="max-width: 180px; height: auto; cursor: pointer; border: 1px solid rgba(0,0,0,0.35); border-radius: 6px;"
      />
    </div>

    <!-- DESCRIPTION -->
    <div class="hwfwm-card">
      <div class="hwfwm-card__title" style="color:#000;">Description</div>
      <textarea name="system.description" rows="6">{{system.description}}</textarea>
    </div>

    <!-- CORE -->
    <div class="hwfwm-card">
      <div class="hwfwm-card__title" style="color:#000;">Consumable</div>

      <div class="hwfwm-grid">
        <div class="hwfwm-field">
          <div class="hwfwm-label" style="color:#000;">Quantity</div>
          <input type="number" name="system.quantity" value="{{system.quantity}}" min="0" step="1" />
        </div>

        <div class="hwfwm-field">
          <div class="hwfwm-label" style="color:#000;">Readied</div>
          <label style="display:flex; align-items:center; gap:8px;">
            <input type="checkbox" name="system.readied" {{#if system.readied}}checked{{/if}} />
            <span style="color:#000;">Available for quick use</span>
          </label>
        </div>

        <div class="hwfwm-field">
          <div class="hwfwm-label" style="color:#000;">Category</div>
          <select name="system.category">
            {{#each categoryOptions as |o|}}
              <option value="{{o.value}}" {{#if (eq o.value ../system.category)}}selected{{/if}}>
                {{o.label}}
              </option>
            {{/each}}
          </select>
        </div>

        <!-- DAMAGE -->
        {{#if isDamage}}
          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Damage per Success</div>
            <input type="number" name="system.damagePerSuccess" value="{{system.damagePerSuccess}}" min="0" step="1" />
          </div>

          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Action Cost</div>
            <input type="number" name="system.actionCost" value="{{system.actionCost}}" min="0" step="1" />
          </div>

          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Damage Type 1</div>
            <select name="system.damageType1">
              {{#each damageTypeOptions as |o|}}
                <option value="{{o.value}}" {{#if (eq o.value ../system.damageType1)}}selected{{/if}}>
                  {{o.label}}
                </option>
              {{/each}}
            </select>
          </div>

          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Damage Type 2</div>
            <select name="system.damageType2">
              {{#each damageTypeOptions as |o|}}
                <option value="{{o.value}}" {{#if (eq o.value ../system.damageType2)}}selected{{/if}}>
                  {{o.label}}
                </option>
              {{/each}}
            </select>
          </div>

          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Damage Type 3</div>
            <select name="system.damageType3">
              {{#each damageTypeOptions as |o|}}
                <option value="{{o.value}}" {{#if (eq o.value ../system.damageType3)}}selected{{/if}}>
                  {{o.label}}
                </option>
              {{/each}}
            </select>
          </div>
        {{/if}}

        <!-- RECOVERY -->
        {{#if isRecovery}}
          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Recovered</div>
            <input type="number" name="system.recovered" value="{{system.recovered}}" min="0" step="1" />
          </div>

          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Action Cost</div>
            <input type="number" name="system.actionCost" value="{{system.actionCost}}" min="0" step="1" />
          </div>

          <div class="hwfwm-field">
            <div class="hwfwm-label" style="color:#000;">Recovery Type</div>
            <select name="system.recoveryType">
              {{#each recoveryTypeOptions as |o|}}
                <option value="{{o.value}}" {{#if (eq o.value ../system.recoveryType)}}selected{{/if}}>
                  {{o.label}}
                </option>
              {{/each}}
            </select>
          </div>
        {{/if}}
      </div>
    </div>

    <!-- NOTES (bottom) -->
    <div class="hwfwm-card">
      <div class="hwfwm-card__title" style="color:#000;">Notes</div>
      <textarea name="system.notes" rows="6">{{system.notes}}</textarea>
    </div>

  </section>
</div>
