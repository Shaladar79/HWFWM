{{!-- templates/actor/tabs/treasures/consumables.hbs --}}

<div class="hwfwm-res-separator">Consumables</div>

{{#if allConsumables.length}}
  <div class="hwfwm-treasure-table">
    <div class="hwfwm-treasure-head">
      <div>Name</div>
      <div>Qty</div>
      <div>Readied</div>
      <div></div>
    </div>

    {{#each allConsumables as |it|}}
      <div class="hwfwm-treasure-line">
        <input
          type="text"
          value="{{it.name}}"
          data-item-id="{{it.id}}"
          data-item-field="name"
        />

        <input
          type="number"
          min="0"
          step="1"
          value="{{it.quantity}}"
          data-item-id="{{it.id}}"
          data-item-field="system.quantity"
        />

        {{!-- IMPORTANT: readied is boolean --}}
        <label style="display:flex; align-items:center; justify-content:center; gap:8px;">
          <input
            type="checkbox"
            data-bool="true"
            data-item-id="{{it.id}}"
            data-item-field="system.readied"
            {{#if it.readied}}checked{{/if}}
          />
          <span class="hwfwm-muted">Readied</span>
        </label>

        <div class="hwfwm-itemlist__actions">
          <button type="button" class="hwfwm-itembtn" data-action="open-item" data-item-id="{{it.id}}">Edit</button>
          <button type="button" class="hwfwm-itembtn hwfwm-itembtn--danger" data-action="delete-item" data-item-id="{{it.id}}">Delete</button>
        </div>
      </div>
    {{/each}}
  </div>
{{else}}
  <div class="hwfwm-muted">No consumables in inventory yet.</div>
{{/if}}
